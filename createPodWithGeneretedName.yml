
- hosts: controlVM
  tasks:
    - name: create resource using name generated by the server
      kubernetes.core.k8s:
        namespace: testing
        state: present
        # check with fixed name
        generate_name: pod-
        definition:
          apiVersion: v1
          kind: Pod
          spec:
            containers:
            - name: mynginx
              image: nginx
              imagePullPolicy: IfNotPresent
            #   ports:
            # - protocol: TCP
            #   targetPort: 8000
            #   name: port-8000-tcp
            #   port: 8000